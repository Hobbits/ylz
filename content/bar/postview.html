<link rel="stylesheet" href="css/postview.css">
<link rel="stylesheet" href="css/webfont/fontello/css/fontello.css">

<div data-ng-controller="postviewCtrl" class="content">
   <article id="postWrap" ng-if="postinfo">
       <header>
           <p id="topcat" class="graytext">
               {{postinfo.name | truncate:17}}
           </p>
           <div class="media">
               <a class="posterhead pull-left">
                   <img class="media-object" ng-src="{{imgURL+postinfo.userhead}}">
               </a>
               <div class="media-body">
                   <h3 class="media-heading">{{postinfo.subject}}</h3>
               </div>
           </div>

       </header>


       <section id="postContent">

           <ul id="messages" class="media-list">
               <li id="postersMessage" class="media"
                   hm-tap="toggleing=!toggleing"
                   ng-controller="toggleReply">
                   <div class="media-body">
                       <div class="pureBlock clearfix">
                       <h4 class="media-heading pull-left">
                            <span class="glyphicon glyphicon-user rightmarg5"></span>
                           {{postinfo.username | truncate:17}}
                       </h4>
                       <span class="graytext pull-right">{{postinfo.create_time}}</span>
                       </div>
                       <p class="messageContent" style="text-align: center;">
                           <i class="icon-quote-left"></i>
                           {{postinfo.message}}
                           <i class="icon-quote-right"></i>
                       </p>
                   </div>

                   <div class="pureBlock backToggle flexbox-center" ng-show="toggleing">
                       <div class="toggleInner">
                           <a hm-tap="comment(postinfo.pid)">
                               <span class="icon-comment"></span>评论主贴</a>
                       </div>
                   </div>

               </li>

               <!--准回复开始-->

               <li id="trueComment" class="media"
                   hm-tap="toggleing=!toggleing" ng-repeat="c in trueComments"
                   ng-controller="toggleReply">

                   <a class="pull-left" ng-if="postinfo.uid!=c.uid">
                       <img class="media-object" ng-src="{{imgURL+c.userhead}}">
                   </a>
                   <a ng-if="postinfo.uid==c.uid" style="font-size: 1.5em"
                         class="headerIcon pull-left glyphicon glyphicon-user">
                   </a>

                   <div class="media-body">
                       <div class="pureBlock clearfix">
                           <h4 class="media-heading pull-left">

                               {{c.username | truncate:17}}
                           </h4>
                           <span class="graytext pull-right">{{c.createtime}}</span>
                       </div>
                       <p class="messageContent">{{c.content}}</p>
                   </div>

                   <div class="pureBlock backToggle flexbox-center" ng-show="toggleing">
                       <div class="toggleInner">
                           <a hm-tap='comment(postinfo.pid,c.username)'>
                               <span class="icon-reply"></span>回复{{c.username | truncate:17}}
                           </a>
                           <a hm-tap='comment(postinfo.pid,c.username,c.content)'>
                               <span class="icon-quote-left"></span>引用
                           </a>
                       </div>
                   </div>

               </li>




           </ul>


       </section>

   </article>
</div>